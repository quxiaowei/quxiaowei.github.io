<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    

    <base href="https://quxiaowei.github.io">
    <title>☐☐☐☐</title>
    <link rel="canonical" href="https://quxiaowei.github.io/post/bilibili_script/">
    
<link rel="stylesheet" href="https://quxiaowei.github.io/css/bootstrap.min.css">
<link rel="stylesheet" href="https://quxiaowei.github.io/css/styles.css">
<link rel="stylesheet" href="https://quxiaowei.github.io/css/post.css">


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="./script/site.js"></script>
</head>

<body>
    <div class="column container">
<header class="header">
    <a href="/" class="title">☐☐☐☐</a>
    
</header>


<section id="main" class="col-md-10">
    <header class="post-header">
      <p class="post-title">Bilibili 视频抓取脚本 </p>
      <p class="post-meta">2016年5月24日</p>
    </header>
    <article itemprop="articleBody" id="content">
       <p>周末写了个zsh脚本，从B站上下载《不能结婚的男人》，贴上代码。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#66d9ef">for</span> i in <span style="color:#f92672">{</span>1..12<span style="color:#f92672">}</span>
<span style="color:#66d9ef">do</span>
    url<span style="color:#f92672">=</span>http://www.bilibili.com/video/av3794937/index_$i.html
    echo $url
    youtube-dl -o <span style="color:#e6db74">&#34;SeGmEnT-</span>$i<span style="color:#e6db74">-%(playlist_index)s.%(ext)s&#34;</span> $url
    rm -f buffer_list
    touch buffer_list
    <span style="color:#66d9ef">for</span> file in <span style="color:#66d9ef">$(</span>ls SeGmEnT-$i-*.flv<span style="color:#66d9ef">)</span>
    <span style="color:#66d9ef">do</span>
        echo file <span style="color:#e6db74">&#34;&#39;</span>$file<span style="color:#e6db74">&#39;&#34;</span> &gt;&gt; buffer_list
    <span style="color:#66d9ef">done</span>
    ffmpeg -f concat -i buffer_list -c copy $i.mkv 
<span style="color:#66d9ef">done</span>
rm -f buffer_list
</code></pre></div>
 <p>『 終 』</p>

    </article>
</section>

<footer class="bottom-footer">
  
</footer>

<script>
  renderMathInElement(document.getElementById('main'));
</script>

</div>


<a href="javascript:" id="return-to-top"><i class="icon-chevron-up"></i></a>

<link href="//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css" rel="stylesheet">

</body>

</html>
