<!DOCTYPE html>
<html class="no-js" lang="en-US">
    <head>
        <meta charset="utf-8">

        

        <base href="https://quxiaowei.github.io">
		<title>&ltquxiaowei/&gt</title>
        <link rel="canonical" href="https://quxiaowei.github.io/post/bilibili_script/">
        <link href="" rel="alternate" type="application/rss+xml" title="&lt;/&gt;"/>

        
<link rel="stylesheet" href="https://quxiaowei.github.io/css/styles.css">

<link rel="stylesheet" type="text/css" href='https://fonts.googleapis.com/css?family=Roboto+Mono'>


<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.3.0/katex.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.3.0/katex.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.3.0/contrib/auto-render.min.js"></script>
<link rel="stylesheet" href="https://quxiaowei.github.io/css/dracula.css">
<script src="https://quxiaowei.github.io/script/highlight.pack.js"></script>
<script src="https://quxiaowei.github.io/script/abap.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

    </head>
    <body>
        <div class="column">

<header class="header">
    <a href="/" class="title">&lt;/&gt;</a>
    
</header>


<section id="main">
    <header class="post-header">
      <p class="post-title"><a href="https://quxiaowei.github.io/post/bilibili_script/">Bilibili 视频抓取脚本 </a></p>
      <p class="post-meta">2016.5.24</p>
    </header>
    <article itemprop="articleBody" id="content">
       <p>周末写了个zsh脚本，从B站上下载《不能结婚的男人》，贴上代码。</p>

<pre><code class="language-bash">for i in {1..12}
do
    url=http://www.bilibili.com/video/av3794937/index_$i.html
    echo $url
    youtube-dl -o &quot;SeGmEnT-$i-%(playlist_index)s.%(ext)s&quot; $url
    rm -f buffer_list
    touch buffer_list
    for file in $(ls SeGmEnT-$i-*.flv)
    do
        echo file &quot;'$file'&quot; &gt;&gt; buffer_list
    done
    ffmpeg -f concat -i buffer_list -c copy $i.mkv 
done
rm -f buffer_list
</code></pre>

<p>『 終 』</p>
    </article>
</section>

<footer class="bottom-footer">
  <div class="copyright">
    <p>
    
    <a href="http://creativecommons.org/licenses/by/4.0/" title="Creative Commons Attribution">Some rights reserved</a>; 
    please attribute properly and link back.
    
    
    </p>
  </div>
</footer>

<script>
    renderMathInElement(document.getElementById('main'));
</script>

</div>
</body>
</html>

